<div class="row">
  <div class="page-header">
    <h1>Campaña</h1>
  </div>
  <form>
    <div class="form-group">
      <label for="overlordName">Señor supremo:</label>
      <input type="text" class="form-control" id="overlordName" placeholder="Nombre del señor supremo" ng-model="main.model.overlord.name">
    </div>
    <div class="form-group">
      <label for="plot">Trama:</label>
      <input type="text" class="form-control" id="plot" placeholder="Trama" ng-model="main.model.overlord.plot">
    </div>

    <!-- Avances -------------------------------------------------------------------------------------------------------------------------->
    <div class="panel panel-default">
      <div class="panel-heading">Avances</div>
      <div class="panel-body">

        <label for="plotAdvance">Avances de trama:</label>
        <div class="input-group">
          <input type="text" class="form-control" id="plotAdvance" placeholder="Avance de trama" ng-model="main.addInputs.plotAdvance.name" >
          <span class="input-group-btn">
            <button class="btn btn-primary" ng-click="main.api.addPlotAdvance()" aria-label="Agregar avance de trama">Agregar</button>
          </span>
        </div>
        <div ui-sortable>      
            <p class="input-group" ng-repeat="advance in main.model.overlord.plotAdvances track by $index" style="padding:5px 10px;">
                <input type="text" ng-model="advance.name" class="form-control" />
                <span class="input-group-btn">  
                  <button class="btn btn-danger" ng-click="main.api.removePlotAdvance($index)" aria-label="Eliminar avance de trama">X</button>
                </span>
            </p>
         </div>
        

        <label for="commonAdvance">Avances comunes:</label>
        <div class="input-group">
          <input type="text" class="form-control" id="commonAdvance" placeholder="Avance común" ng-model="main.addInputs.commonAdvance.name" >
          <span class="input-group-btn">
            <button class="btn btn-primary" ng-click="main.api.addCommonAdvance()" aria-label="Agregar avance común">Agregar</button>
          </span>
        </div>
        <div ui-sortable>      
            <p class="input-group" ng-repeat="advance in main.model.overlord.commonAdvances track by $index" style="padding:5px 10px;">
                <input type="text" ng-model="advance.name" class="form-control" />
                <span class="input-group-btn">  
                  <button class="btn btn-danger" ng-click="main.api.removeCommonAdvance($index)" aria-label="Eliminar avance común">X</button>
                </span>
            </p>
        </div>


      </div>  
    </div>
    <!-- Fin  Avances -------------------------------------------------------------------------------------------------------------------------->

    <!-- Lugartenientes -------------------------------------------------------------------------------------------------------------------------->
    <div class="panel panel-default">
      <div class="panel-heading">Lugartenientes</div>
      <div class="panel-body">        
        <table class="table table-condensed">
          <thead>
            <tr>
              <th>Nombre</th>
              <th>Localización</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <input type="text" class="form-control" id="lieutenantName" placeholder="Nombre de lugarteniente" ng-model="main.addInputs.lieutenant.name">
              </td>
              <td><input type="text" class="form-control" id="lieutenantLocation" placeholder="Localización" ng-model="main.addInputs.lieutenant.location"></td>
              <td><button class="btn btn-primary" ng-click="main.api.addLieutenant()" aria-label="Agregar lugarteniente">Agregar</button></td>
            </tr>
            <tr ng-repeat="lieutenant in main.model.lieutenants track by $index" style="padding:5px 10px;" ui-sortable>
              <td><input type="text" ng-model="lieutenant.name" class="form-control" /></td>
              <td><input type="text" ng-model="lieutenant.location" class="form-control" /></td>
              <td><button class="btn btn-danger" ng-click="main.api.removeLieutenant($index)" aria-label="Eliminar lugarteniente">X</button></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <!-- Fin Lugartenientes -------------------------------------------------------------------------------------------------------------------------->

    <!-- Grupo de héroes -------------------------------------------------------------------------------------------------------------------------->
    <div class="panel panel-default">
      <div class="panel-heading">Héroes</div>
      <div class="panel-body"> 
        <table class="table table-condensed">
          <thead>
            <tr>
              <th>Nombre</th>
              <th>XP</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            <tr ng-show="main.model.heroParty.heroes.length<4">
              <td>
                <input type="text" class="form-control" id="heroName" placeholder="Nombre del héroe" ng-model="main.addInputs.hero.name">
              </td>
              <td><input type="number" class="form-control" id="heroXPSpent" placeholder="XP gastados" ng-model="main.addInputs.hero.xpSpent"></td>
              <td><button class="btn btn-primary" ng-click="main.api.addHero()" aria-label="Agregar héroe">Agregar</button></td>
            </tr>
            <tr ng-repeat="hero in main.model.heroParty.heroes track by $index" style="padding:5px 10px;" ui-sortable>
              <td><input type="text" ng-model="hero.name" class="form-control" /></td>
              <td>
                <p class="form-control-static">
                  {{main.api.xpAviableHero(hero)}}                    
                  <span class="glyphicon glyphicon-plus-sign" aria-hidden="true" ng-click="main.api.addSpentHeroXP(hero,-1)"></span>
                  <span class="glyphicon glyphicon-minus-sign" aria-hidden="true" ng-click="main.api.addSpentHeroXP(hero,+1)"></span>
                </p>
              </td>
              <td><button class="btn btn-danger" ng-click="main.api.removeHero($index)" aria-label="Eliminar héroe">X</button></td>
            </tr>
          </tbody>
        </table>

        <div class="form-group">
          <label for="homePort">Puerto seguro:</label>
          <input type="text" class="form-control" id="homePort" placeholder="Puerto seguro" ng-model="main.model.heroParty.homePort">
        </div>
        <div class="form-group">
          <label for="heroPartyLocation">Localización actual del grupo:</label>
          <input type="text" class="form-control" id="heroPartyLocation" placeholder="Localización actual del grupo" ng-model="main.model.heroParty.location">
        </div>
        <div class="form-group">
          <div class="form-inline">
            <label for="rumorName">Rumor / localización:</label>
          </div>
          <div class="form-inline">
              <input type="text" class="form-control" id="rumorName" placeholder="Rumor activo" ng-model="main.model.heroParty.rumor.name">
              <input type="text" class="form-control" id="rumorLocation" placeholder="Localización del rumor" ng-model="main.model.heroParty.rumor.location">
          </div>
        </div>

      </div>
    </div>
    <!-- Fin Grupo de héroes -------------------------------------------------------------------------------------------------------------------------->

    <!-- Puntos de conquista -------------------------------------------------------------------------------------------------------------------------->
    <div class="panel panel-default">
      <div class="panel-heading">Puntos de conquista</div>
      <div class="panel-body"> 

        <div class="form-group">
          <label class="col-sm-5 control-label">Héroes:</label>
          <div class="col-sm-7">
            <p class="form-control-static">{{main.model.heroParty.conquestTockens}}
              <span class="glyphicon glyphicon-plus-sign" aria-hidden="true" ng-click="main.api.addHeroesConquestTockens(+1)" ></span>
              <span class="glyphicon glyphicon-minus-sign" aria-hidden="true" ng-click="main.api.addHeroesConquestTockens(-1)" ></span>
            </p>
          </div>
        </div>

        <div class="form-group">
          <label class="col-sm-5 control-label">Señor supremo:</label>
          <div class="col-sm-7">
            <p class="form-control-static">
              {{main.api.overlordAviableConquestTockens()}} 
                <span class="glyphicon glyphicon-plus-sign" aria-hidden="true" ng-click="main.api.addOverlordSpentTockens(-1)"></span>
                <span class="glyphicon glyphicon-minus-sign" aria-hidden="true" ng-click="main.api.addOverlordSpentTockens(+1)"></span>
              / 
              {{main.model.overlord.conquestTockens}}
                <span class="glyphicon glyphicon-plus-sign" aria-hidden="true" ng-click="main.api.addOverlordConquestTockens(+1)"></span>
                <span class="glyphicon glyphicon-minus-sign" aria-hidden="true" ng-click="main.api.addOverlordConquestTockens(-1)"></span>
            </p>
          </div>
        </div>

        <div class="form-group">
          <label class="col-sm-5 control-label">Total campaña:</label>
          <div class="col-sm-5">
            <p class="form-control-static">{{main.api.totalCampaignTockens()}}</p>
          </div>
        </div>

        <div class="form-group">
          <label class="col-sm-5 control-label">Nivel de campaña:</label>
          <div class="col-sm-5">
            <p class="form-control-static">{{main.api.campaignLevel()}}</p>
          </div>
        </div>

        <div class="form-group">
          <label class="col-sm-5 control-label">Favor divino:</label>
          <div class="col-sm-5">
            <p class="form-control-static">{{main.api.divineFavor()}}</p>
          </div>
        </div>
      </div>
    </div>
    <!-- Puntos de conquista -------------------------------------------------------------------------------------------------------------------------->


    <!-- Nivel monstruos -------------------------------------------------------------------------------------------------------------------------->
    <div class="panel panel-default">
      <div class="panel-heading">Nivel de monstruos</div>
      <div class="panel-body"> 

      <div class="form-group" ng-repeat="monsterLevel in main.model.monsterLevels">
          <label class="col-sm-5 control-label" ng-bind="monsterLevel.name"></label>
          <div class="col-sm-7">
            <p class="form-control-static">{{monsterLevel | rgtDesMonsterLevel}}
              <span class="glyphicon glyphicon-plus-sign" aria-hidden="true" ng-click="main.api.modifyMonsterLevel(monsterLevel, +1)" ></span>
              <span class="glyphicon glyphicon-minus-sign" aria-hidden="true" ng-click="main.api.modifyMonsterLevel(monsterLevel, -1)" ></span>
            </p>
          </div>
        </div>

      </div>
    </div>
    <!-- Nivel monstruos -------------------------------------------------------------------------------------------------------------------------->


    <button type="submit" class="btn btn-default">Submit</button>
</form>
</div>
